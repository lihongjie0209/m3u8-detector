# M3U8 èµ„æºæ¢æµ‹å™¨ - å‘½ä»¤é€ŸæŸ¥è¡¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. éªŒè¯æ–‡ä»¶
npm run validate

# 3. åŠ è½½åˆ°Chrome
æ‰“å¼€ chrome://extensions/ â†’ å¼€å¯å¼€å‘è€…æ¨¡å¼ â†’ åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº
```

## ğŸ“¦ NPM å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------|---------|
| `npm install` | å®‰è£…ä¾èµ– | é¦–æ¬¡ä½¿ç”¨æˆ–æ›´æ–°ä¾èµ– |
| `npm run dev` | å¼€å‘æ¨¡å¼ | å¼€å‘æ—¶ç›‘å¬æ–‡ä»¶å˜åŒ– |
| `npm run validate` | éªŒè¯æ–‡ä»¶ | æ£€æŸ¥æ‰©å±•å®Œæ•´æ€§ |
| `npm run build` | æ„å»ºæ‰©å±• | åˆ›å»ºå‘å¸ƒåŒ… |
| `npm run clean` | æ¸…ç†äº§ç‰© | æ¸…ç†æ„å»ºæ–‡ä»¶ |
| `npm run rebuild` | é‡æ–°æ„å»º | clean + build |
| `npm run generate-icons` | ç”Ÿæˆå›¾æ ‡ | æ›´æ–°å›¾æ ‡èµ„æº |

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev

# ä¿®æ”¹ä»£ç ...
# çœ‹åˆ°æç¤ºååœ¨ chrome://extensions/ åˆ·æ–°æ‰©å±•
# ç»§ç»­å¼€å‘...

# Ctrl+C åœæ­¢ç›‘å¬
```

### æ„å»ºå‘å¸ƒ
```bash
# éªŒè¯ â†’ æ„å»º â†’ æ£€æŸ¥
npm run validate
npm run build

# è¾“å‡º: dist/m3u8-detector.zip
```

### æ¸…ç†é‡å»º
```bash
npm run rebuild

# ç­‰åŒäº:
# npm run clean
# npm run build
```

## ğŸ“ ç›®å½•ç»“æ„

```
m3u8-detector/
â”œâ”€â”€ ğŸ“„ manifest.json      # æ‰©å±•é…ç½®
â”œâ”€â”€ ğŸ“œ background.js      # åå°è„šæœ¬
â”œâ”€â”€ ğŸ“œ content.js         # å†…å®¹è„šæœ¬
â”œâ”€â”€ ğŸ¨ popup.{html,js,css} # å¼¹å‡ºçª—å£
â”œâ”€â”€ âš™ï¸  options.{html,js}  # è®¾ç½®é¡µé¢
â”œâ”€â”€ ğŸ–¼ï¸  icons/            # å›¾æ ‡èµ„æº
â”œâ”€â”€ ğŸ”§ scripts/          # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.js
â”‚   â”œâ”€â”€ clean.js
â”‚   â”œâ”€â”€ dev.js
â”‚   â”œâ”€â”€ validate.js
â”‚   â””â”€â”€ generate-icons.js
â”œâ”€â”€ ğŸ“¦ dist/             # æ„å»ºè¾“å‡º
â””â”€â”€ ğŸ“š docs/             # æ–‡æ¡£
```

## ğŸ” è°ƒè¯•æŠ€å·§

### åå°è„šæœ¬
```
chrome://extensions/ 
â†’ ç‚¹å‡»"Service Worker"é“¾æ¥
â†’ æŸ¥çœ‹consoleæ—¥å¿—
```

### å†…å®¹è„šæœ¬
```
ç›®æ ‡ç½‘é¡µ 
â†’ F12æ‰“å¼€DevTools
â†’ æŸ¥çœ‹Consoleæ ‡ç­¾
```

### å¼¹å‡ºçª—å£
```
å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡ 
â†’ æ£€æŸ¥å¼¹å‡ºå†…å®¹
â†’ åœ¨DevToolsä¸­è°ƒè¯•
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: canvaså®‰è£…å¤±è´¥ï¼Ÿ
**Windows:**
```bash
npm install --global --production windows-build-tools
```

**è·³è¿‡å›¾æ ‡ç”Ÿæˆ:**
```bash
# é¡¹ç›®å·²åŒ…å«é¢„ç”Ÿæˆå›¾æ ‡ï¼Œå¯ç›´æ¥ä½¿ç”¨
npm install --ignore-scripts
```

### Q: æ‰©å±•æœªç”Ÿæ•ˆï¼Ÿ
1. æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§: `npm run validate`
2. åœ¨ `chrome://extensions/` åˆ·æ–°æ‰©å±•
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### Q: ä¿®æ”¹ä»£ç åæ²¡å˜åŒ–ï¼Ÿ
1. ç¡®è®¤æ–‡ä»¶å·²ä¿å­˜
2. åœ¨ `chrome://extensions/` ç‚¹å‡»åˆ·æ–°
3. å¦‚æœä¸ç”Ÿæ•ˆï¼Œç‚¹å‡»"é‡æ–°åŠ è½½"æŒ‰é’®

## ğŸ“Š æ‰©å±•ä¿¡æ¯

- **Manifestç‰ˆæœ¬**: V3
- **æƒé™**: storage, activeTab, webRequest
- **æ”¯æŒ**: Chrome/Edge (Chromium 88+)

## ğŸ”— ç›¸å…³é“¾æ¥

- [å®Œæ•´æ–‡æ¡£](README.md)
- [å¿«é€Ÿå¼€å§‹](QUICKSTART.md)
- [è„šæœ¬è¯´æ˜](scripts/README.md)
- [é¡¹ç›®æ€»ç»“](SUMMARY.md)

## ğŸ’¡ æç¤º

- ä½¿ç”¨ `npm run dev` é¿å…å¿˜è®°åˆ·æ–°æ‰©å±•
- å‘å¸ƒå‰è¿è¡Œ `npm run validate` ç¡®ä¿æ— é—æ¼
- å®šæœŸè¿è¡Œ `npm run clean` æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- å›¾æ ‡ä¿®æ”¹åè¿è¡Œ `npm run generate-icons`

---

å¿«é€Ÿå‚è€ƒå®Œæ¯•ï¼å®Œæ•´æ–‡æ¡£è¯·æŸ¥çœ‹ [README.md](README.md)
